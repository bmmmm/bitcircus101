<!doctype html>
<html lang="de">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Unterst√ºtze bitcircus101 | Spenden</title>
        <meta name="title" content="Unterst√ºtze bitcircus101 | Spenden" />
        <meta
            name="description"
            content="Hilf mit deiner Spende, dass bitcircus101 ein kreativer und technischer Freiraum in Bonn bleibt. Jeder Beitrag z√§hlt!"
        />
        <meta name="robots" content="index, follow" />
        <meta property="og:type" content="website" />
        <meta
            property="og:url"
            content="https://bitcircus101.de/donations.html"
        />
        <meta
            property="og:title"
            content="Unterst√ºtze bitcircus101 | Spenden"
        />
        <meta
            property="og:description"
            content="Hilf mit deiner Spende, dass bitcircus101 ein kreativer und technischer Freiraum in Bonn bleibt. Jeder Beitrag z√§hlt!"
        />
        <meta property="og:locale" content="de_DE" />
        <link rel="canonical" href="https://bitcircus101.de/donations.html" />
        <link rel="stylesheet" href="style.css" />
    </head>
    <body>
        <div id="site-notice" class="site-notice">
            <p>
                <strong>Hinweis:</strong> Diese Seite nutzt Zahlungsdienste von
                Drittanbietern (PayPal, Ko-fi, Stripe) sowie Google-Dienste
                (reCAPTCHA, SOCS), die Cookies setzen k√∂nnen, um Spenden sicher
                abzuwickeln und Missbrauch zu verhindern.
            </p>
            <ul
                class="site-notice__list"
            >
                <li>
                    <strong>PayPal, Ko-fi, Stripe:</strong> Cookies f√ºr sichere
                    Zahlungsabwicklung (siehe jeweilige Datenschutzerkl√§rungen).
                </li>
                <li>
                    <strong>Google (reCAPTCHA, SOCS):</strong> Cookies f√ºr
                    Betrugspr√§vention, Bot-Schutz und Zahlungssicherheit.
                </li>
            </ul>
            <p>
                Mit Klick auf ‚ÄûAkzeptieren &amp; fortfahren" stimmst du der
                Nutzung von Cookies durch diese Dienste zu.
                <a href="impressum-datenschutz.html">Mehr zum Datenschutz</a>.
            </p>
            <button onclick="acceptCookies()">
                Akzeptieren &amp; fortfahren
            </button>
            <button class="decline" onclick="declineCookies()">Ablehnen</button>
        </div>
        <header>
            <nav id="main-nav" aria-label="Hauptnavigation">
                <button
                    class="menu-toggle"
                    id="menu-toggle"
                    aria-controls="main-nav"
                    aria-expanded="false"
                >
                    ‚ò∞ Men√º
                </button>
                <ul>
                    <li><a href="index.html">Start</a></li>
                    <li><a href="index.html#about">√úber uns</a></li>
                    <li><a href="events.html">Veranstaltungen</a></li>
                    <li><a href="donations.html">Spenden</a></li>
                    <li><a href="index.html#contact">Kontakt</a></li>
                    <li>
                        <a href="impressum-datenschutz.html"
                            >Impressum & Datenschutz</a
                        >
                    </li>
                </ul>
            </nav>
        </header>
        <main>
            <div class="container">
                <section>
                    <h1>Unterst√ºtze bitcircus101</h1>
                    <p style="text-align: center; font-size: 1.1rem">
                        Deine Spende hilft, dass bitcircus101 ein kreativer und
                        technischer Freiraum in Bonn bleibt. Jeder Beitrag ‚Äì
                        egal wie gro√ü oder klein ‚Äì macht einen Unterschied und
                        h√§lt unsere Community lebendig.
                    </p>
                    <p
                        id="payment-method-text"
                        class="payment-method-text"
                        style="display: none"
                    >
                        W√§hle deine bevorzugte Spendenmethode:
                    </p>
                    <div
                        class="donation-buttons"
                        id="donation-content"
                        style="display: none"
                    >
                        <!-- Inhalt wird nach Zustimmung angezeigt -->
                    </div>
                    <div
                        id="decline-message"
                        class="decline-message"
                        style="display: none"
                    >
                        <p style="font-size: 3rem">üò¢</p>
                        <p>
                            Du hast Cookies abgelehnt.<br />
                            Du kannst uns trotzdem vor Ort unterst√ºtzen!
                        </p>
                    </div>
                    <div
                        id="osm-map-decline-section"
                        class="osm-map-decline-section"
                        style="display: none"
                    >
                        <button
                            id="show-map-btn"
                            class="map-button"
                        >
                            Auf Karte anzeigen
                        </button>
                        <div
                            id="osm-map-container"
                            class="map-container"
                            style="display: none"
                        >
                            <iframe
                                id="osm-map"
                                width="425"
                                height="350"
                                src=""
                                class="map-container iframe"
                            ></iframe>
                            <br />
                            <small>
                                <a
                                    href="https://www.openstreetmap.org/?mlat=50.74053&amp;mlon=7.08942#map=15/50.74053/7.08942"
                                >
                                    Gr√∂√üere Karte √∂ffnen
                                </a>
                            </small>
                        </div>
                    </div>
                    </div>
                    <div class="back-link">
                        <a href="index.html">‚Üê Zur√ºck zur Startseite</a>
                    </div>
                </section>
            </div>
        </main>
        <footer role="contentinfo" class="footer">
            <div class="footer__container">
                <a
                    href="https://github.com/bmmmm/bitcircus101"
                    target="_blank"
                    rel="noopener"
                    class="footer__github-link"
                >
                    üöÄ Mitmachen oder Feedback auf GitHub:
                    <span class="footer__github-link-text">bitcircus101</span>
                </a>
            </div>
        </footer>
        <script>
            // Always show site notice immediately on page load, block all content until action
            document.addEventListener("DOMContentLoaded", function () {
                var siteNotice = document.getElementById("site-notice");
                var donationContent =
                    document.getElementById("donation-content");
                var declineMessage = document.getElementById("decline-message");

                if (donationContent) donationContent.style.display = "none";
                if (declineMessage) declineMessage.style.display = "none";
                if (siteNotice) {
                    siteNotice.style.display = "block";
                    document.body.classList.add("cookie-banner-shown");
                }

                // Hide payment method text until decision is made
                var paymentMethodText = document.getElementById(
                    "payment-method-text",
                );
                if (paymentMethodText) paymentMethodText.style.display = "none";

                // OSM Map functionality
                var showMapBtn = document.getElementById("show-map-btn");
                var mapContainer = document.getElementById("osm-map-container");
                var osmMap = document.getElementById("osm-map");

                if (showMapBtn && mapContainer && osmMap) {
                    showMapBtn.addEventListener("click", function () {
                        // Load map only on first click
                        if (!osmMap.src) {
                            osmMap.src =
                                "https://www.openstreetmap.org/export/embed.html?bbox=7.057943344116212%2C50.72276418262858%2C7.12090015411377%2C50.75828718705439&layer=mapnik&marker=50.74052905321277%2C7.08942174911499";
                        }

                        // Show/hide map
                        var isVisible = mapContainer.style.display === "block";
                        mapContainer.style.display = isVisible
                            ? "none"
                            : "block";
                        showMapBtn.textContent = isVisible
                            ? "Auf Karte anzeigen"
                            : "Karte verstecken";

                        // Scroll to map when showing
                        if (!isVisible) {
                            setTimeout(function () {
                                mapContainer.scrollIntoView({
                                    behavior: "smooth",
                                    block: "center",
                                });
                            }, 100);
                        }
                    });
                }
            });

            // Show donation content only after explicit consent, always show banner first
            function showDonationContent() {
                var container = document.getElementById("donation-content");
                if (container) {
                    // PayPal und Ko-fi erst nach Zustimmung anzeigen
                    container.innerHTML = `
                    <div class="donation-item">
                        <h3>Spende via PayPal</h3>
                            <a
                                href="https://www.paypal.com/paypalme/b6m"
                                target="_blank"
                                class="btn btn-primary"
                                style="background-color: #0070ba"
                            >
                                Mit PayPal spenden
                            </a>
                        </div>
                        <div class="donation-item">
                            <h3>Spende via Ko‚Äëfi</h3>
                            <iframe
                                id="kofiframe"
                                src="https://ko-fi.com/bmabma/?hidefeed=true&widget=true&embed=true&preview=true"

                                height="712"
                                title="bmabma"
                            ></iframe>
                        </div>
                    `;
                    container.style.display = "flex";
                }
                var siteNotice = document.getElementById("site-notice");
                if (siteNotice) siteNotice.style.display = "none";
                document.body.style.overflow = "auto";
                document.body.classList.remove("cookie-banner-shown");

                // Show payment method text after decision
                var paymentMethodText = document.getElementById(
                    "payment-method-text",
                );
                if (paymentMethodText)
                    paymentMethodText.style.display = "block";
            }

            function acceptCookies() {
                localStorage.setItem("bitcircus-cookie-consent", "accepted");
                showDonationContent();

                // Show payment method text after acceptance
                var paymentMethodText = document.getElementById(
                    "payment-method-text",
                );
                if (paymentMethodText)
                    paymentMethodText.style.display = "block";
            }

            function declineCookies() {
                var declineMessage = document.getElementById("decline-message");
                var donationContent =
                    document.getElementById("donation-content");
                var paymentMethodText = document.getElementById(
                    "payment-method-text",
                );
                var osmMapSection = document.getElementById(
                    "osm-map-decline-section",
                );
                if (declineMessage) declineMessage.style.display = "block";
                if (donationContent) donationContent.style.display = "none";
                if (paymentMethodText) paymentMethodText.style.display = "none";
                if (osmMapSection) osmMapSection.style.display = "block";
                var siteNotice = document.getElementById("site-notice");
                if (siteNotice) siteNotice.style.display = "none";
                document.body.style.overflow = "auto";
                document.body.classList.remove("cookie-banner-shown");

                // Show payment method text after decision
                var paymentMethodText = document.getElementById(
                    "payment-method-text",
                );
                if (paymentMethodText)
                    paymentMethodText.style.display = "block";
            }
        </script>
        <script defer src="main.js"></script>
    </body>
</html>
